# 電気使用量を通知してくれるLINEbotを作ってみる

## 経緯
2023年8月、諸事情で引っ越しするにあたり、
[Octopas energy](https://octopusenergy.co.jp/friend/pure-duck-140)という電力会社に変更しました。
電気代支払いのためにマイページにアクセスしたところ、
開発者用APIを公開してくれていることを発見しました。
オクトパスエナジーの利用者の大半はこのことを気にも留めていないとおもいますが、
折角公式に提供してくれているので使ってみようと思います。

##　概要
今回は電気使用量(電気代)を通知してくれるLINEbotを作成したいと思います。
近頃、電気代の高騰で家計にダメージを受けているので、可視化することで少しでも節約を意識できるようするため
と言うのはあくまで建前で単に面白そうだから作ってみたいだけです。

## 詳細
今回作成したいものは、
* 毎朝８時にLINEで通知をしてくれる。
* 通知の内容は、前日分の電気使用量と電気代と月初からの合計の電気使用量と電気代。

## 実装
以前にLINEbotを作成した際に、herokuを使用してました。
ですが無料枠がなくなってしまったので、renderで実行したいと思います。

1. オクトパスエナジーからAPIを使用して欲しい情報を取得する
    1. 認証トークンの発行(有効期限1時間):OK
    * 取得できた。
    3. 日付を取得してAPIを投げる:NG
    * 日付データがうまく扱えない...なぜ？？？
    4. 取得データから電気使用量、電気代を抽出する:
2. LINEbotで取得したデータを通知する。:
    * 試行錯誤中
3. renderで定期実行する：OK
    * githubから連携でデプロイできるので簡単。

[renderの使い方](https://qiita.com/kakiuchis/items/0225664568ece7b7b08b)

## 最後
本記事を最後まで読んでいただきありがとうございます。  
[リンク](https://octopusenergy.co.jp/friend/brave-deer-879)からオクトパスエナジーを契約していただくと契約者様と僕に5000円のボーナスがもらえます！  
電力会社を検討中または、上記APIを使ってみたい方、一緒にボーナスを受け取りましょう！  
